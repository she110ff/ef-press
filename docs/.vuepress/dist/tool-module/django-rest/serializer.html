<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>심화-Serializers | Knowledge Share</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.3cf712f1.css" as="style"><link rel="preload" href="/assets/js/app.226a413b.js" as="script"><link rel="preload" href="/assets/js/2.73abacf5.js" as="script"><link rel="preload" href="/assets/js/74.2b525f65.js" as="script"><link rel="prefetch" href="/assets/js/10.351a57cb.js"><link rel="prefetch" href="/assets/js/11.6393c270.js"><link rel="prefetch" href="/assets/js/12.258ce84f.js"><link rel="prefetch" href="/assets/js/13.0e799513.js"><link rel="prefetch" href="/assets/js/14.1bed9505.js"><link rel="prefetch" href="/assets/js/15.d3ebe5dd.js"><link rel="prefetch" href="/assets/js/16.f2f87609.js"><link rel="prefetch" href="/assets/js/17.bbd8a445.js"><link rel="prefetch" href="/assets/js/18.7d163443.js"><link rel="prefetch" href="/assets/js/19.19b5b7f6.js"><link rel="prefetch" href="/assets/js/20.829e3d87.js"><link rel="prefetch" href="/assets/js/21.bc454723.js"><link rel="prefetch" href="/assets/js/22.5c67cf08.js"><link rel="prefetch" href="/assets/js/23.3dec653b.js"><link rel="prefetch" href="/assets/js/24.01bbc434.js"><link rel="prefetch" href="/assets/js/25.4f4cd96f.js"><link rel="prefetch" href="/assets/js/26.3d026ee4.js"><link rel="prefetch" href="/assets/js/27.4c1a5062.js"><link rel="prefetch" href="/assets/js/28.b34493f3.js"><link rel="prefetch" href="/assets/js/29.4370a6f6.js"><link rel="prefetch" href="/assets/js/3.0119ca6e.js"><link rel="prefetch" href="/assets/js/30.9b3ad4ec.js"><link rel="prefetch" href="/assets/js/31.eb5641ed.js"><link rel="prefetch" href="/assets/js/32.eaa85e4f.js"><link rel="prefetch" href="/assets/js/33.f93228ab.js"><link rel="prefetch" href="/assets/js/34.482bd009.js"><link rel="prefetch" href="/assets/js/35.77e80232.js"><link rel="prefetch" href="/assets/js/36.6154cdc8.js"><link rel="prefetch" href="/assets/js/37.ad4220f1.js"><link rel="prefetch" href="/assets/js/38.db259bfc.js"><link rel="prefetch" href="/assets/js/39.31066864.js"><link rel="prefetch" href="/assets/js/4.18b7f171.js"><link rel="prefetch" href="/assets/js/40.2f92ff2c.js"><link rel="prefetch" href="/assets/js/41.434423f6.js"><link rel="prefetch" href="/assets/js/42.b226d007.js"><link rel="prefetch" href="/assets/js/43.4022eb0b.js"><link rel="prefetch" href="/assets/js/44.24df495c.js"><link rel="prefetch" href="/assets/js/45.934df6e3.js"><link rel="prefetch" href="/assets/js/46.3c84a5bb.js"><link rel="prefetch" href="/assets/js/47.fe62c0b5.js"><link rel="prefetch" href="/assets/js/48.8e1b28b6.js"><link rel="prefetch" href="/assets/js/49.56580a1b.js"><link rel="prefetch" href="/assets/js/5.96509959.js"><link rel="prefetch" href="/assets/js/50.5a76b24b.js"><link rel="prefetch" href="/assets/js/51.15eefc48.js"><link rel="prefetch" href="/assets/js/52.288a7c9a.js"><link rel="prefetch" href="/assets/js/53.0344e8e6.js"><link rel="prefetch" href="/assets/js/54.051230fc.js"><link rel="prefetch" href="/assets/js/55.0d6d875f.js"><link rel="prefetch" href="/assets/js/56.cb2d6ed4.js"><link rel="prefetch" href="/assets/js/57.e46f3cc2.js"><link rel="prefetch" href="/assets/js/58.a1265c97.js"><link rel="prefetch" href="/assets/js/59.e43d9167.js"><link rel="prefetch" href="/assets/js/6.eafd2c6f.js"><link rel="prefetch" href="/assets/js/60.f6b21a78.js"><link rel="prefetch" href="/assets/js/61.4a860e23.js"><link rel="prefetch" href="/assets/js/62.6ce4d451.js"><link rel="prefetch" href="/assets/js/63.39c70403.js"><link rel="prefetch" href="/assets/js/64.01d48950.js"><link rel="prefetch" href="/assets/js/65.eff11926.js"><link rel="prefetch" href="/assets/js/66.5f7ada7a.js"><link rel="prefetch" href="/assets/js/67.038d3536.js"><link rel="prefetch" href="/assets/js/68.51d474f1.js"><link rel="prefetch" href="/assets/js/69.7b64006b.js"><link rel="prefetch" href="/assets/js/7.9345f576.js"><link rel="prefetch" href="/assets/js/70.026d7c8c.js"><link rel="prefetch" href="/assets/js/71.23fea48d.js"><link rel="prefetch" href="/assets/js/72.66e45e3c.js"><link rel="prefetch" href="/assets/js/73.fd7cba88.js"><link rel="prefetch" href="/assets/js/75.fa84901e.js"><link rel="prefetch" href="/assets/js/76.a8d34081.js"><link rel="prefetch" href="/assets/js/77.3cc197c2.js"><link rel="prefetch" href="/assets/js/78.38e4043b.js"><link rel="prefetch" href="/assets/js/79.0233dc04.js"><link rel="prefetch" href="/assets/js/8.c76ec235.js"><link rel="prefetch" href="/assets/js/80.37f9db76.js"><link rel="prefetch" href="/assets/js/81.739c140e.js"><link rel="prefetch" href="/assets/js/82.db22bc06.js"><link rel="prefetch" href="/assets/js/83.e0a3b10f.js"><link rel="prefetch" href="/assets/js/84.165fae16.js"><link rel="prefetch" href="/assets/js/85.deea94b4.js"><link rel="prefetch" href="/assets/js/86.f08273d4.js"><link rel="prefetch" href="/assets/js/87.693b40b0.js"><link rel="prefetch" href="/assets/js/88.4610ab9a.js"><link rel="prefetch" href="/assets/js/89.534d2db6.js"><link rel="prefetch" href="/assets/js/9.f853c54c.js"><link rel="prefetch" href="/assets/js/90.975fdff4.js"><link rel="prefetch" href="/assets/js/91.18312f77.js"><link rel="prefetch" href="/assets/js/92.79d88ce2.js"><link rel="prefetch" href="/assets/js/93.d66f6efe.js"><link rel="prefetch" href="/assets/js/94.3e4c63cd.js"><link rel="prefetch" href="/assets/js/95.95b09757.js"><link rel="prefetch" href="/assets/js/96.588d599f.js"><link rel="prefetch" href="/assets/js/97.21b640fd.js"><link rel="prefetch" href="/assets/js/98.bd06af5f.js"><link rel="prefetch" href="/assets/js/99.8d1cc7e9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3cf712f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Knowledge Share</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/languages/python/" class="nav-link">
  Python
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Frameworks</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Frameworks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frameworks/vscode/" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/vuejs/" class="nav-link">
  VueJS
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/nuxtjs/" class="nav-link">
  NuxtJS
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/nestjs/" class="nav-link">
  NestJS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tool &amp; Module" class="dropdown-title"><span class="title">Tool &amp; Module</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tool &amp; Module" class="mobile-dropdown-title"><span class="title">Tool &amp; Module</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool-module/django-rest/" class="nav-link router-link-active">
  Django-REST
</a></li><li class="dropdown-item"><!----> <a href="/tool-module/clean-arch/" class="nav-link">
  Clean Architecture
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Workflow" class="dropdown-title"><span class="title">Workflow</span> <span class="arrow down"></span></button> <button type="button" aria-label="Workflow" class="mobile-dropdown-title"><span class="title">Workflow</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/workflow/nuxtjs-django/" class="nav-link">
  NuxtJS-Django
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/languages/python/" class="nav-link">
  Python
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Frameworks</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Frameworks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frameworks/vscode/" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/vuejs/" class="nav-link">
  VueJS
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/nuxtjs/" class="nav-link">
  NuxtJS
</a></li><li class="dropdown-item"><!----> <a href="/frameworks/nestjs/" class="nav-link">
  NestJS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tool &amp; Module" class="dropdown-title"><span class="title">Tool &amp; Module</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tool &amp; Module" class="mobile-dropdown-title"><span class="title">Tool &amp; Module</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool-module/django-rest/" class="nav-link router-link-active">
  Django-REST
</a></li><li class="dropdown-item"><!----> <a href="/tool-module/clean-arch/" class="nav-link">
  Clean Architecture
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Workflow" class="dropdown-title"><span class="title">Workflow</span> <span class="arrow down"></span></button> <button type="button" aria-label="Workflow" class="mobile-dropdown-title"><span class="title">Workflow</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/workflow/nuxtjs-django/" class="nav-link">
  NuxtJS-Django
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Django REST</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool-module/django-rest/" aria-current="page" class="sidebar-link">Why Django REST?</a></li><li><a href="/tool-module/django-rest/tutorial-1-serialization.html" class="sidebar-link">기초-직렬화</a></li><li><a href="/tool-module/django-rest/tutorial-2-request.html" class="sidebar-link">기초-요청과 응답</a></li><li><a href="/tool-module/django-rest/tutorial-3-classbase.html" class="sidebar-link">기초-Class View</a></li><li><a href="/tool-module/django-rest/tutorial-4-authentication.html" class="sidebar-link">기초-인증과 권한</a></li><li><a href="/tool-module/django-rest/tutorial-5-relationship.html" class="sidebar-link">기초-관계 &amp; 하이퍼링크</a></li><li><a href="/tool-module/django-rest/tutorial-6-viewsets.html" class="sidebar-link">기초-뷰셋 &amp; 라우터</a></li><li><a href="/tool-module/django-rest/generic-view.html" class="sidebar-link">심화-Generic Views</a></li><li><a href="/tool-module/django-rest/viewsets.html" class="sidebar-link">심화-ViewSets</a></li><li><a href="/tool-module/django-rest/serializer.html" aria-current="page" class="active sidebar-link">심화-Serializers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tool-module/django-rest/serializer.html#serializers" class="sidebar-link">Serializers</a></li><li class="sidebar-sub-header"><a href="/tool-module/django-rest/serializer.html#modelserializer" class="sidebar-link">ModelSerializer</a></li><li class="sidebar-sub-header"><a href="/tool-module/django-rest/serializer.html#hyperlinkedmodelserializer" class="sidebar-link">HyperlinkedModelSerializer</a></li><li class="sidebar-sub-header"><a href="/tool-module/django-rest/serializer.html#listserializer" class="sidebar-link">ListSerializer</a></li><li class="sidebar-sub-header"><a href="/tool-module/django-rest/serializer.html#baseserializer" class="sidebar-link">BaseSerializer</a></li><li class="sidebar-sub-header"><a href="/tool-module/django-rest/serializer.html#advanced-serializer-사용법" class="sidebar-link">Advanced serializer 사용법</a></li><li class="sidebar-sub-header"><a href="/tool-module/django-rest/serializer.html#third-party-packages" class="sidebar-link">Third party packages</a></li></ul></li><li><a href="/tool-module/django-rest/serializer-relations.html" class="sidebar-link">심화-Serializer Relations</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="심화-serializers"><a href="#심화-serializers" class="header-anchor">#</a> 심화-Serializers</h1> <blockquote><p>이 장에서는 Serializer 의 유용성을 확장하고자 하는 것입니다. 그러나 간단한 문제는 아니며 고민이 필요한 설계 작업이 필요합니다.</p> <p>-- Django users group, Russell Keith-Magee</p></blockquote> <p>Serializer를 사용하면 QuerySets 및 모델 인스턴스와 같은 복잡한 데이터를 네이티브 Python 데이터 유형으로 변환한 다음 JSON, XML 또는 다른 콘텐츠 유형으로 쉽게 렌더링 할 수 있습니다. 또한 Serializer는 역 직렬화 기능을 제공하여 들어오는 데이터를 검증하고 파싱하여 복잡한 유형으로 다시 변환 할 수 있습니다.</p> <p>REST 프레임워크의 serializer는 Django <code>Form</code> 및 <code>ModelForm</code> 클래스와 매우 유사하게 작동합니다. <code>Serializer</code>클래스는 serializer를 만들기 위해 모델과 QuerySets을 사용하는 shortcut을 제공하는 ModelSerializer 클래스 뿐만 아니라 응답의 출력을 제어 할수 있는 강력하고 포괄적인 방법들을 제공합니다.</p> <h2 id="serializers"><a href="#serializers" class="header-anchor">#</a> Serializers</h2> <h3 id="serializers-선언"><a href="#serializers-선언" class="header-anchor">#</a> Serializers 선언</h3> <p>간단한 객체를 만들어 보겠습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime

<span class="token keyword">class</span> <span class="token class-name">Comment</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> email<span class="token punctuation">,</span> content<span class="token punctuation">,</span> created<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>email <span class="token operator">=</span> email
        self<span class="token punctuation">.</span>content <span class="token operator">=</span> content
        self<span class="token punctuation">.</span>created <span class="token operator">=</span> created <span class="token keyword">or</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>

comment <span class="token operator">=</span> Comment<span class="token punctuation">(</span>email<span class="token operator">=</span><span class="token string">'leila@example.com'</span><span class="token punctuation">,</span> content<span class="token operator">=</span><span class="token string">'foo bar'</span><span class="token punctuation">)</span>
</code></pre></div><p>Comment 객체의 데이터를 직렬화/역 직렬화 하는데 사용할 수 있는 Serializer를 선언합니다.
Serializer 선언은 폼 선언과 매우 유사합니다 :</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> serializers

<span class="token keyword">class</span> <span class="token class-name">CommentSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    email <span class="token operator">=</span> serializers<span class="token punctuation">.</span>EmailField<span class="token punctuation">(</span><span class="token punctuation">)</span>
    content <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    created <span class="token operator">=</span> serializers<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="objects-직렬화"><a href="#objects-직렬화" class="header-anchor">#</a> objects 직렬화</h3> <p>CommentSerializer는 comment 또는 comment list를 직렬화하는 데 사용할 수 있습니다 .</p> <div class="language-python extra-class"><pre class="language-python"><code>serializer <span class="token operator">=</span> CommentSerializer<span class="token punctuation">(</span>comment<span class="token punctuation">)</span>
serializer<span class="token punctuation">.</span>data
<span class="token comment"># {'email': 'leila@example.com', 'content': 'foo bar', 'created': '2016-01-27T15:17:10.375877'}</span>
</code></pre></div><p>직렬화 프로세스를 마무리하기 위해 데이터를 json로 렌더링합니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>renderers <span class="token keyword">import</span> JSONRenderer

json <span class="token operator">=</span> JSONRenderer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>render<span class="token punctuation">(</span>serializer<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
json
<span class="token comment"># b'{&quot;email&quot;:&quot;leila@example.com&quot;,&quot;content&quot;:&quot;foo bar&quot;,&quot;created&quot;:&quot;2016-01-27T15:17:10.375877&quot;}'</span>
</code></pre></div><h3 id="objects-역직렬화"><a href="#objects-역직렬화" class="header-anchor">#</a> objects 역직렬화</h3> <p>역 직렬화는 비슷합니다. 먼저 스트림을 Python 기본 데이터 유형으로 파싱합니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> io
<span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>parsers <span class="token keyword">import</span> JSONParser

stream <span class="token operator">=</span> io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span>json<span class="token punctuation">)</span> <span class="token comment"># to memory buffter</span>
data <span class="token operator">=</span> JSONParser<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>parse<span class="token punctuation">(</span>stream<span class="token punctuation">)</span>
</code></pre></div><p>native 데이터 유형을 dictionary 유형의 validated_data 로 복원합니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>serializer <span class="token operator">=</span> CommentSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span>data<span class="token punctuation">)</span>
serializer<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># True</span>
serializer<span class="token punctuation">.</span>validated_data
<span class="token comment"># {'content': 'foo bar', 'email': 'leila@example.com', 'created': datetime.datetime(2012, 08, 22, 16, 20, 09, 822243)}</span>
</code></pre></div><h3 id="instances-저장"><a href="#instances-저장" class="header-anchor">#</a> instances 저장</h3> <p>검증 된 데이터를 기반으로 객체 인스턴스를 반환하려면 .create()와 .update() 메소드 중 하나 또는 둘 다를 구현해야 합니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CommentSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    email <span class="token operator">=</span> serializers<span class="token punctuation">.</span>EmailField<span class="token punctuation">(</span><span class="token punctuation">)</span>
    content <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    created <span class="token operator">=</span> serializers<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> Comment<span class="token punctuation">(</span><span class="token operator">**</span>validated_data<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        instance<span class="token punctuation">.</span>email <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'email'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>email<span class="token punctuation">)</span>
        instance<span class="token punctuation">.</span>content <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
        instance<span class="token punctuation">.</span>created <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>created<span class="token punctuation">)</span>
        <span class="token keyword">return</span> instance
</code></pre></div><p>객체 인스턴스가 Django 모델에 해당하는 경우 이러한 메소드가 객체를 데이터베이스에 저장하도록 해야합니다. Django 모델인 경우 방법은 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>    <span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> Comment<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token operator">**</span>validated_data<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        instance<span class="token punctuation">.</span>email <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'email'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>email<span class="token punctuation">)</span>
        instance<span class="token punctuation">.</span>content <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
        instance<span class="token punctuation">.</span>created <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>created<span class="token punctuation">)</span>
        instance<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> instance
</code></pre></div><p>이제 데이터의 역 직렬화 과정에서 확인된 데이터를 기반으로 객체 인스턴스를 반환하도록 <code>.save()</code>  호출할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>comment <span class="token operator">=</span> serializer<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><code>.save()</code> 를 호출하면 serializer 클래스를 인스턴스화 할 때 기존 인스턴스가 전달되었는지 여부에 따라 새 인스턴스를 만들거나 기존 인스턴스를 업데이트 합니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># .save() will create a new instance.</span>
serializer <span class="token operator">=</span> CommentSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span>data<span class="token punctuation">)</span>

<span class="token comment"># .save() will update the existing `comment` instance.</span>
serializer <span class="token operator">=</span> CommentSerializer<span class="token punctuation">(</span>comment<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
</code></pre></div><p><code>.create()</code>와 <code>.update()</code> 는 serializer 클래스의 유스 케이스에 따라 둘 중 하나 또는 둘 다 구현할 수 있습니다.</p> <h4 id="save-에-추가-속성-전달"><a href="#save-에-추가-속성-전달" class="header-anchor">#</a> .save()에 추가 속성 전달</h4> <p>때로는 인스턴스를 저장할 때 뷰 코드에서 추가 데이터를 주입해야 할 수도 있습니다. 이 추가 데이터에는 요청 데이터의 일부가 아닌 현재 사용자, 현재 시간와 같은 서버 시점 데이터나 비즈니스 로직의 결과 정보를 포함할 때 해당합니다.</p> <p>.save()를 호출할 때 추가 키워드 인수를 포함하면 됩니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>serializer<span class="token punctuation">.</span>save<span class="token punctuation">(</span>owner<span class="token operator">=</span>request<span class="token punctuation">.</span>user<span class="token punctuation">)</span>
</code></pre></div><p>.create() 또는 .update() 가 호출될 때 추가 키워드 인수가 validated_data 에 포함됩니다.</p> <h4 id="save-재정의"><a href="#save-재정의" class="header-anchor">#</a> .save() 재정의</h4> <p>경우에 따라 .create()및 .update()가 필요하지 않은 경우가 있을 수 있습니다. 예를 들어, contact form 의 새 인스턴스를 만들지 않고 대신 전자 메일을 보내려고 합니다.</p> <p>이 경우 .save()를 대체하도록 선택할 수 있습니다.</p> <p>예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ContactForm</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    email <span class="token operator">=</span> serializers<span class="token punctuation">.</span>EmailField<span class="token punctuation">(</span><span class="token punctuation">)</span>
    message <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">save</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        email <span class="token operator">=</span> self<span class="token punctuation">.</span>validated_data<span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span>
        message <span class="token operator">=</span> self<span class="token punctuation">.</span>validated_data<span class="token punctuation">[</span><span class="token string">'message'</span><span class="token punctuation">]</span>
        send_email<span class="token punctuation">(</span><span class="token keyword">from</span><span class="token operator">=</span>email<span class="token punctuation">,</span> message<span class="token operator">=</span>message<span class="token punctuation">)</span>
</code></pre></div><p>위의 경우 serializer의 .validated_data 속성에 직접 액세스해야 합니다.</p> <h3 id="유효성-검사"><a href="#유효성-검사" class="header-anchor">#</a> 유효성 검사</h3> <p>데이터를 역 직렬화 할 때, validated_data 데이터에 액세스하거나 객체 인스턴스를 저장하기 전에 항상 <code>is_valid()</code>를 호출해서 유효성 검사를 해야합니다. 이 과정에서 유효성 검사 오류가 발생하면 <code>.errors</code> 속성에 결과 오류 메시지를 나타내는 dictionary 가 포함됩니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>serializer <span class="token operator">=</span> CommentSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'email'</span><span class="token punctuation">:</span> <span class="token string">'foobar'</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">:</span> <span class="token string">'baz'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
serializer<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># False</span>
serializer<span class="token punctuation">.</span>errors
<span class="token comment"># {'email': ['Enter a valid e-mail address.'], 'created': ['This field is required.']}</span>
</code></pre></div><p>dictionary의 각 키는 필드 이름이 되고 값은 해당 필드에 대한 오류 메시지의 문자열 목록이 됩니다. <code>non_field_errors</code> 키는 있을 수 있으며 일반적인 유효성 검사 오류를 나열합니다. <code>non_field_errors</code> 키의 이름은 <code>NON_FIELD_ERRORS_KEYREST</code> REST 프레임워크 설정을 사용하여 사용자 정의 할 수 있습니다.</p> <p>list를 역 직렬화하면 오류는 각 역 직렬화 된 항목을 포함하는 dictionary의 list 형태로 반환됩니다.</p> <h4 id="유효하지-않은-데이터에-대한-예외-발생"><a href="#유효하지-않은-데이터에-대한-예외-발생" class="header-anchor">#</a> 유효하지 않은 데이터에 대한 예외 발생</h4> <p>이 <code>.is_valid()</code> 메소드는 유효성 검증의 오류가 있는 경우, <code>serializers.ValidationError</code> 예외를 발생시키는 <code>raise_exception</code>플래그를 사용할 수 있습니다.</p> <p>이러한 예외는 REST 프레임워크가 제공하는 기본 예외 핸들러에 의해 자동으로 처리되며 기본적으로 <code>HTTP 400 Bad Request</code> 응답을 리턴 합니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># Return a 400 response if the data was invalid.</span>
serializer<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span>raise_exception<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="필드-레벨-검증"><a href="#필드-레벨-검증" class="header-anchor">#</a> 필드 레벨 검증</h4> <p>Serializer의 서브 클래스에 .validate_&lt;field_name&gt;메소드를 추가하여 사용자 정의 필드 레벨 유효성 검증을 지정할 수 있습니다. 이들은 .clean_&lt;field_name&gt; 의 django form 방법과 유사합니다.</p> <p>이러한 메소드는 단일 인수를 사용하는데, 이는 유효성 검증이 필요한 필드 값입니다.</p> <p>validate_&lt;field_name&gt;은 유효 값을 반환하거나 serializers.ValidationError 를 발생시켜야 합니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> serializers

<span class="token keyword">class</span> <span class="token class-name">BlogPostSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    title <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
    content <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">validate_title</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;
        Check that the blog post is about Django.
        &quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token string">'django'</span> <span class="token keyword">not</span> <span class="token keyword">in</span> value<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> serializers<span class="token punctuation">.</span>ValidationError<span class="token punctuation">(</span><span class="token string">&quot;Blog post is not about Django&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> value
</code></pre></div><p>참고 :  &lt;field_name&gt;이 <code>required=False</code> 매개 변수 선언된 필드의 경우 필드의 값이 포함되어 있지 않은 경우 이 검증 단계가 수행되지 않습니다.</p> <h4 id="객체-레벨-검증"><a href="#객체-레벨-검증" class="header-anchor">#</a> 객체 레벨 검증</h4> <p>여러 필드에 접근하여 다른 유효성 검증을 수행하려면 Serializer 서브 클래스에 <code>.validate()</code> 메소드를 추가하십시오. 이 메소드는 단일 인수(data)를 사용하는데, 이는 필드 값들의 dictionary 입니다.  필요한 경우 값을 serializers.ValidationError 발생시키거나 확인된 data를 반환해야 합니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> serializers

<span class="token keyword">class</span> <span class="token class-name">EventSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    description <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
    start <span class="token operator">=</span> serializers<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span><span class="token punctuation">)</span>
    finish <span class="token operator">=</span> serializers<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">validate</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;
        Check that start is before finish.
        &quot;&quot;&quot;</span>
        <span class="token keyword">if</span> data<span class="token punctuation">[</span><span class="token string">'start'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> data<span class="token punctuation">[</span><span class="token string">'finish'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> serializers<span class="token punctuation">.</span>ValidationError<span class="token punctuation">(</span><span class="token string">&quot;finish must occur after start&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> data
</code></pre></div><h4 id="유효성-검사기-validators"><a href="#유효성-검사기-validators" class="header-anchor">#</a> 유효성 검사기(Validators)</h4> <p>Serializer의 개별 필드에 유효성 검사기를 포함할 수 있습니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">multiple_of_ten</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> value <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> serializers<span class="token punctuation">.</span>ValidationError<span class="token punctuation">(</span><span class="token string">'Not a multiple of ten'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">GameRecord</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    score <span class="token operator">=</span> IntegerField<span class="token punctuation">(</span>validators<span class="token operator">=</span><span class="token punctuation">[</span>multiple_of_ten<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Serializer 클래스에는 전체 필드 데이터 세트에 적용되는 재사용 가능한 유효성 검사기가 포함될 수도 있습니다. 이 유효성 검사기는 내부 Meta클래스에서 다음과 같이 선언하여 포함됩니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">EventSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span><span class="token punctuation">)</span>
    room_number <span class="token operator">=</span> serializers<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span>choices<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">201</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    date <span class="token operator">=</span> serializers<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        <span class="token comment"># Each room only has one event per day.</span>
        validators <span class="token operator">=</span> UniqueTogetherValidator<span class="token punctuation">(</span>
            queryset<span class="token operator">=</span>Event<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            fields<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'room_number'</span><span class="token punctuation">,</span> <span class="token string">'date'</span><span class="token punctuation">]</span>
        <span class="token punctuation">)</span>
</code></pre></div><p>더 많은 정보 <a href="https://www.django-rest-framework.org/api-guide/validators/" target="_blank" rel="noopener noreferrer">validators documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="초기-데이터-및-인스턴스에-접근"><a href="#초기-데이터-및-인스턴스에-접근" class="header-anchor">#</a> 초기 데이터 및 인스턴스에 접근</h3> <p>초기 객체 또는 QuerySets을 serializer 인스턴스에 전달하면 객체를 <code>.instance</code>로 사용할 수 있게 됩니다. 초기 객체가 전달되지 않으면 <code>.instance</code> 속성은 None 입니다.</p> <p>serializer 인스턴스로 데이터를 전달할 때 수정되지 않은 데이터는 <code>.initial_data</code>로 사용할 수 있습니다. data 키워드 인수가 전달되지 않으면  <code>.initial_data</code>속성이 존재하지 않습니다.</p> <h3 id="부분-업데이트"><a href="#부분-업데이트" class="header-anchor">#</a> 부분 업데이트</h3> <p>기본적으로 serializer의 모든 필수 필드에 대해 값을 전달해야 합니다. 그렇지 않으면 유효성 검사 오류가 발생합니다. 부분 업데이트를 허용하기 위해 partial 인수를 사용할 수 있습니다 .</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># Update `comment` with partial data</span>
serializer <span class="token operator">=</span> CommentSerializer<span class="token punctuation">(</span>comment<span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'content'</span><span class="token punctuation">:</span> <span class="token string">'foo bar'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> partial<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="중첩-객체-다루기"><a href="#중첩-객체-다루기" class="header-anchor">#</a> 중첩 객체 다루기</h3> <p>앞의 예제들은 단순한 데이터 유형의 객체를 처리하는 데 적합하지만 때로는 객체의 일부 속성이 문자열, 날짜 또는 정수와 같은 간단한 데이터 유형이 아닌 더 복잡한 객체를 나타낼 수도 있어야 합니다.</p> <p><code>Serializer</code> 클래스 자체가 Field 형태로 사용될 수 있습니다. 하나의 객체는 다른 객체안에서 중첩 관계를 나타내는 데 사용될 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">UserSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    email <span class="token operator">=</span> serializers<span class="token punctuation">.</span>EmailField<span class="token punctuation">(</span><span class="token punctuation">)</span>
    username <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CommentSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    user <span class="token operator">=</span> UserSerializer<span class="token punctuation">(</span><span class="token punctuation">)</span>
    content <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    created <span class="token operator">=</span> serializers<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><code>required=False</code> 플래그를 중첩 <code>Serializer</code>에 전달하여 중첩 객체의 <code>None</code> 값을 선택적으로 사용할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CommentSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    user <span class="token operator">=</span> UserSerializer<span class="token punctuation">(</span>required<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>  <span class="token comment"># May be an anonymous user.</span>
    content <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    created <span class="token operator">=</span> serializers<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>마찬가지로 중첩 객체가 List 유형인 경우 중첩 된 <code>Serializer</code> 에 <code>many=True</code> 플래그를 전달해야 합니다 .</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CommentSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    user <span class="token operator">=</span> UserSerializer<span class="token punctuation">(</span>required<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    edits <span class="token operator">=</span> EditItemSerializer<span class="token punctuation">(</span>many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># A nested list of 'edit' items.</span>
    content <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    created <span class="token operator">=</span> serializers<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="쓰기-가능한-중첩-표현"><a href="#쓰기-가능한-중첩-표현" class="header-anchor">#</a> 쓰기 가능한 중첩 표현</h3> <p>데이터의 역 직렬화를 지원하는 중첩을 처리할 때 중첩 객체의 오류는 중첩 객체의 필드 이름 아래에 표시됩니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>serializer <span class="token operator">=</span> CommentSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'user'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'email'</span><span class="token punctuation">:</span> <span class="token string">'foobar'</span><span class="token punctuation">,</span> <span class="token string">'username'</span><span class="token punctuation">:</span> <span class="token string">'doe'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">:</span> <span class="token string">'baz'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
serializer<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># False</span>
serializer<span class="token punctuation">.</span>errors
<span class="token comment"># {'user': {'email': ['Enter a valid e-mail address.']}, 'created': ['This field is required.']}</span>
</code></pre></div><p>마찬가지로 <code>.validated_data</code> 속성에는 중첩된 데이터 구조가 포함됩니다.</p> <h4 id="중첩-표현을-위한-create-작성-방법"><a href="#중첩-표현을-위한-create-작성-방법" class="header-anchor">#</a> 중첩 표현을 위한 .create() 작성 방법</h4> <p>쓰기 가능한 중첩 표현을 지원하는 경우 여러 객체의 저장을 처리하는 <code>.create()</code> 또는 <code>.update()</code> 메소드를 작성해야 합니다.</p> <p>다음 예제는 중첩된 profile 오브젝트로 user 작성을 처리하는 방법을 보여줍니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">UserSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    profile <span class="token operator">=</span> ProfileSerializer<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> User
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">,</span> <span class="token string">'profile'</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        profile_data <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'profile'</span><span class="token punctuation">)</span>
        user <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token operator">**</span>validated_data<span class="token punctuation">)</span>
        Profile<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>user<span class="token operator">=</span>user<span class="token punctuation">,</span> <span class="token operator">**</span>profile_data<span class="token punctuation">)</span>
        <span class="token keyword">return</span> user
</code></pre></div><h4 id="중첩-표현을-위한-update-작성-방법"><a href="#중첩-표현을-위한-update-작성-방법" class="header-anchor">#</a> 중첩 표현을 위한 .update() 작성 방법</h4> <p>업데이트의 경우 relationships 업데이트를 처리하는 방법에 대해 신중하게 생각해야 합니다. 예를 들어 relationships에 대한 데이터가 None 제공되거나 제공되지 않은 경우 다음 중 어떤 것이 발생해야 할까요?</p> <ul><li>데이터베이스에서 relationships을 NULL로 설정</li> <li>연관된 인스턴스를 삭제</li> <li>데이터를 무시하고 인스턴스를 그대로 유지</li> <li>유효성 검사 오류를 발생</li></ul> <p>다음은 이전 <code>UserSerializer</code> 클래스 <code>.update()</code>의 메소드에 대한 예 입니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        profile_data <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'profile'</span><span class="token punctuation">)</span>
        <span class="token comment"># Unless the application properly enforces that this field is</span>
        <span class="token comment"># always set, the follow could raise a `DoesNotExist`, which</span>
        <span class="token comment"># would need to be handled.</span>
        profile <span class="token operator">=</span> instance<span class="token punctuation">.</span>profile

        instance<span class="token punctuation">.</span>username <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>username<span class="token punctuation">)</span>
        instance<span class="token punctuation">.</span>email <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'email'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>email<span class="token punctuation">)</span>
        instance<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        profile<span class="token punctuation">.</span>is_premium_member <span class="token operator">=</span> profile_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span>
            <span class="token string">'is_premium_member'</span><span class="token punctuation">,</span>
            profile<span class="token punctuation">.</span>is_premium_member
        <span class="token punctuation">)</span>
        profile<span class="token punctuation">.</span>has_support_contract <span class="token operator">=</span> profile_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span>
            <span class="token string">'has_support_contract'</span><span class="token punctuation">,</span>
            profile<span class="token punctuation">.</span>has_support_contract
         <span class="token punctuation">)</span>
        profile<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> instance
</code></pre></div><p>중첩된 인스턴스의 create 및 update의 동작이 모호할 수 있고 관련 모델 간에 복잡한 종속성이 필요할 수 있으므로 REST 프레임워크에서는 메소드 내부에 명시적으로 작성주어야 합니다. 기본 <code>ModelSerializer</code>의 <code>.create()</code> 및 <code>.update()</code> 메소드에는 쓰기 가능한( writable nested representations) 중첩 표현에 대한 지원이 포함되지 않습니다.</p> <p>그러나 자동 쓰기 가능 중첩 표현을 지원하는 <a href="https://www.django-rest-framework.org/api-guide/serializers/#drf-writable-nested" target="_blank" rel="noopener noreferrer">DRF Writable Nested<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 와 같은 타사 패키지를 사용할 수 있습니다.</p> <h4 id="모델-manager-클래스에서-관련-인스턴스-저장-처리"><a href="#모델-manager-클래스에서-관련-인스턴스-저장-처리" class="header-anchor">#</a> 모델 Manager 클래스에서 관련 인스턴스 저장 처리</h4> <p>Serializer 에 여러 관련 인스턴스를 저장하는 대신 올바른 인스턴스 작성을 처리하는 사용자 정의 모델 Manager 클래스를 작성하는 것입니다.</p> <p>예를 들어, User 인스턴스와 Profile 인스턴스가 항상 한 쌍으로 생성되도록 하고 싶다고 가정합니다. 다음과 같은 사용자 정의 Manager 클래스를 작성할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">UserManager</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Manager<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> email<span class="token punctuation">,</span> is_premium_member<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> has_support_contract<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        user <span class="token operator">=</span> User<span class="token punctuation">(</span>username<span class="token operator">=</span>username<span class="token punctuation">,</span> email<span class="token operator">=</span>email<span class="token punctuation">)</span>
        user<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        profile <span class="token operator">=</span> Profile<span class="token punctuation">(</span>
            user<span class="token operator">=</span>user<span class="token punctuation">,</span>
            is_premium_member<span class="token operator">=</span>is_premium_member<span class="token punctuation">,</span>
            has_support_contract<span class="token operator">=</span>has_support_contract
        <span class="token punctuation">)</span>
        profile<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> user
</code></pre></div><p>이 Manager 클래스는 User 인스턴스와 Profile 인스턴스가 항상 동시에 작성되도록 캡슐화 합니다. serializer 클래스의 .create() 메소드를 새 Manager 메소드를 사용하도록 다시 작성할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
        username<span class="token operator">=</span>validated_data<span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        email<span class="token operator">=</span>validated_data<span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span>
        is_premium_member<span class="token operator">=</span>validated_data<span class="token punctuation">[</span><span class="token string">'profile'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'is_premium_member'</span><span class="token punctuation">]</span>
        has_support_contract<span class="token operator">=</span>validated_data<span class="token punctuation">[</span><span class="token string">'profile'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'has_support_contract'</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span>
</code></pre></div><p>이 방법에 대한 자세한 내용은 Model 및 Manager 클래스 사용에 대한 <a href="https://www.dabapps.com/blog/django-models-and-encapsulation/" target="_blank" rel="noopener noreferrer">블로그<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>을 참조 하십시오.</p> <h3 id="여러-객체-다루기"><a href="#여러-객체-다루기" class="header-anchor">#</a> 여러 객체 다루기</h3> <p><code>Serializer</code> 클래스는 객체의 목록(list)을 직렬화 또는 역 직렬화하여 처리 할 수 있습니다.</p> <h4 id="여러-객체-직렬화"><a href="#여러-객체-직렬화" class="header-anchor">#</a> 여러 객체 직렬화</h4> <p>단일 객체 인스턴스 대신 QuerySets 또는 List 를 직렬화 하려면 <code>Serializer</code> 를 인스턴스화 할 때 <code>many=True</code> 플래그를 전달해야 합니다. 그런 다음 QuerySets 또는 List 를 전달할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>queryset <span class="token operator">=</span> Book<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
serializer <span class="token operator">=</span> BookSerializer<span class="token punctuation">(</span>queryset<span class="token punctuation">,</span> many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
serializer<span class="token punctuation">.</span>data
<span class="token comment"># [</span>
<span class="token comment">#     {'id': 0, 'title': 'The electric kool-aid acid test', 'author': 'Tom Wolfe'},</span>
<span class="token comment">#     {'id': 1, 'title': 'If this is a man', 'author': 'Primo Levi'},</span>
<span class="token comment">#     {'id': 2, 'title': 'The wind-up bird chronicle', 'author': 'Haruki Murakami'}</span>
<span class="token comment"># ]</span>
</code></pre></div><h4 id="여러-객체의-역-직렬화"><a href="#여러-객체의-역-직렬화" class="header-anchor">#</a> 여러 객체의 역 직렬화</h4> <p>여러 개체를 역 직렬화하는 기본 동작은 여러 개체 생성(creation)을 지원하지만 여러 개체 업데이트(update)는 지원하지 않습니다. 이러한 경우를 대한 자세한 내용은 <a href="https://www.django-rest-framework.org/api-guide/serializers/#listserializer" target="_blank" rel="noopener noreferrer">ListSerializer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 설명서를 참조 하십시오.</p> <h3 id="추가-컨텍스트-포함"><a href="#추가-컨텍스트-포함" class="header-anchor">#</a> 추가 컨텍스트 포함</h3> <p>직렬화 되는 객체 외에 serializer 에 추가 컨텍스트를 제공해야 하는 경우가 있습니다. 한 예로, 일반적인 경우는 하이퍼링크 관계(hyperlinked relations)가 포함 된 serializer 를 사용하는 경우입니다. serializer 는 정규화 된 URL을 올바르게 생성할 수 있도록 현재 요청(request)에 액세스 할 수 있어야 합니다.</p> <p>serializer를 인스턴스화 할 때 context 인수를 전달하여 임의의 추가 컨텍스트를 제공 할 수 있습니다 . 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>serializer <span class="token operator">=</span> AccountSerializer<span class="token punctuation">(</span>account<span class="token punctuation">,</span> context<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'request'</span><span class="token punctuation">:</span> request<span class="token punctuation">}</span><span class="token punctuation">)</span>
serializer<span class="token punctuation">.</span>data
<span class="token comment"># {'id': 6, 'owner': 'denvercoder9', 'created': datetime.datetime(2013, 2, 12, 09, 44, 56, 678870), 'details': 'http://example.com/accounts/6/details'}</span>
</code></pre></div><p>context dictionary는 <code>self.context</code> 속성에 액세스하여  <code>.to_representation()</code> 와 같은 사용자 정의 메소드를 serializer 필드 로직 내에서 사용할 수 있습니다.</p> <h2 id="modelserializer"><a href="#modelserializer" class="header-anchor">#</a> ModelSerializer</h2> <p>Django Model에 매핑되는  <code>Serializer</code> 클래스가 필요할 수 있습니다.</p> <p>이 <code>ModelSerializer</code>클래스는 Model의 필드를 갖는 <code>Serializer</code>클래스를 자동으로 만들 수 있는 shortcut을 제공합니다.</p> <p><code>ModelSerializer</code> 클래스는 아래의 사항을 제외하면 Serializer 클래스와 동일합니다. :</p> <ul><li>모델에 따라 자동으로 일련의 필드를 생성합니다.</li> <li>unique_together 와 같은 serializer에 대한 validator를 자동으로 생성합니다.</li> <li><code>.create()</code> 및 <code>.update()</code>의 간단한 기본 구현이 포함됩니다.</li></ul> <p><code>ModelSerializer</code>선언은 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'account_name'</span><span class="token punctuation">,</span> <span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token string">'created'</span><span class="token punctuation">]</span>
</code></pre></div><p>기본적으로 Model 클래스의 모든 필드는 serializer 필드에 매핑됩니다.</p> <p>모델의 외래 키와 같은 모든 관계가 <code>PrimaryKeyRelatedField</code> 에 매핑됩니다. 명시적으로 포함되지 않는 한 기본적으로 역관계는 포함되지 않습니다.</p> <h3 id="modelserializer-조사-inspection"><a href="#modelserializer-조사-inspection" class="header-anchor">#</a> ModelSerializer 조사(inspection)</h3> <p>Serializer 클래스는 유용한 상세(verbose) 표현 문자열을 생성하여 해당 필드의 상태를 검사 할 수 있습니다. 이 기능은 ModelSerializers 에서 자동으로 생성되는 필드 및 validator 집합을 확인하는 작업을 할 때 특히 유용합니다.</p> <p><code>python manage.py shell</code>을 사용하여 Django 쉘을 연 다음 serializer 클래스를 가져와서 인스턴스화하고 객체 표현을 출력합니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> myapp<span class="token punctuation">.</span>serializers <span class="token keyword">import</span> AccountSerializer
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> serializer <span class="token operator">=</span> AccountSerializer<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>serializer<span class="token punctuation">)</span><span class="token punctuation">)</span>
AccountSerializer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">id</span> <span class="token operator">=</span> IntegerField<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">'ID'</span><span class="token punctuation">,</span> read_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    name <span class="token operator">=</span> CharField<span class="token punctuation">(</span>allow_blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    owner <span class="token operator">=</span> PrimaryKeyRelatedField<span class="token punctuation">(</span>queryset<span class="token operator">=</span>User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="포함-할-필드-지정"><a href="#포함-할-필드-지정" class="header-anchor">#</a> 포함 할 필드 지정</h3> <p>ModelSerializer 에서 기본 필드의 하위 집합만 사용하려면 ModelForm에서 처럼 fields 또는 exclude 옵션을 사용하여 수행 할 수 있습니다. fields 속성을 사용하여 직렬화해야 하는 모든 필드를 명시적으로 설정하는 것이 좋습니다. 이렇게 하면 모델이 변경될 때 의도하지 않은 데이터 노출이 발생할 가능성이 줄어 듭니다.</p> <p>예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'account_name'</span><span class="token punctuation">,</span> <span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token string">'created'</span><span class="token punctuation">]</span>
</code></pre></div><p>모델의 모든 필드를 사용하도록 fields 속성을 <code>'__all__'</code>으로 설정할 수도 있습니다.</p> <p>예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
        fields <span class="token operator">=</span> <span class="token string">'__all__'</span>
</code></pre></div><p>Serializer에서 제외 할 필드 목록을 exclude 속성에서 설정할 수 있습니다.</p> <p>예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
        exclude <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'users'</span><span class="token punctuation">]</span>
</code></pre></div><p>위의 예에서 경우, Account 모델은 3개 필드(account_name, users, created)를 가지고 있지만 결과적으로 account_name, created 을 직렬화 합니다.</p> <p>fields 및 exclude 속성의 이름은 일반적으로 Model 클래스의 필드에 매핑됩니다.</p> <h3 id="중첩-직렬화-지정"><a href="#중첩-직렬화-지정" class="header-anchor">#</a> 중첩 직렬화 지정</h3> <p>기본적으로 ModelSerializer은 relationships에 primary keys를 사용하지만 다음과 같이 depth 옵션을 사용하여 중첩 표현을 쉽게 생성 할 수도 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'account_name'</span><span class="token punctuation">,</span> <span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token string">'created'</span><span class="token punctuation">]</span>
        depth <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><p>이 depth 옵션은 relationships의 깊이를 나타내는 정수 값으로 설정해야 합니다.</p> <h3 id="명시-적으로-필드-지정"><a href="#명시-적으로-필드-지정" class="header-anchor">#</a> 명시 적으로 필드 지정</h3> <p><code>Serializer</code> 클래스에서와 마찬가지로 <code>ModelSerializer</code> 클래스에서 필드를 선언하여 추가 필드를 만들거나 기본 필드를 재정의 할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    url <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>source<span class="token operator">=</span><span class="token string">'get_absolute_url'</span><span class="token punctuation">,</span> read_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    groups <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PrimaryKeyRelatedField<span class="token punctuation">(</span>many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
</code></pre></div><p>추가 필드는 모델에서 호출할 수 있는 모든 속성에 사용할 수 있습니다.</p> <h3 id="읽기-전용-필드-지정"><a href="#읽기-전용-필드-지정" class="header-anchor">#</a> 읽기 전용 필드 지정</h3> <p>여러 필드를 읽기 전용으로 지정할 수 있습니다. <code>read_only=True</code>속성을 사용하여 각 필드를 명시 적으로 추가하는 대신 <code>read_only_fields</code> 메타 옵션을 사용할 수 있습니다.</p> <p>이 옵션은 필드 이름을 list 또는 tuple 로 작성해야 하며 다음과 같이 선언됩니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'account_name'</span><span class="token punctuation">,</span> <span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token string">'created'</span><span class="token punctuation">]</span>
        read_only_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'account_name'</span><span class="token punctuation">]</span>
</code></pre></div><p><code>editable=False</code> 및 <code>AutoField</code> 필드는 기본적으로 읽기 전용으로 설정되며 <code>read_only_fields</code> 옵션에 추가할 필요가 없습니다.</p> <p>참고 : 읽기 전용 필드가 Model 수준에서 unique_together 제약 조건의 일부인 경우와 같이 특수한 상황이 있습니다. 이 경우 제약 조건을 확인하기 위해 serializer 클래스에 필드가 필요하지만 사용자가 편집할 수 없어야 합니다.</p> <p>이를 처리하는 올바른 방법은 serializer 에서 필드를 명시적으로 지정하여 <code>read_only=True</code>및 <code>default=…</code> 키워드 인수를 모두 제공하는 것 입니다.</p> <p>이에 대한 한 가지 예는 현재 인증된 User 가 unique_together에 다른 식별자를 가진 읽기 전용 관계 인 경우 사용자 필드를 다음과 같이 선언하십시오.</p> <div class="language-python extra-class"><pre class="language-python"><code>user <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PrimaryKeyRelatedField<span class="token punctuation">(</span>read_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> default<span class="token operator">=</span>serializers<span class="token punctuation">.</span>CurrentUserDefault<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="추가-키워드-인수"><a href="#추가-키워드-인수" class="header-anchor">#</a> 추가 키워드 인수</h3> <p>extra_kwargs 옵션을 사용하여 필드에 임의의 추가 키워드 인수를 지정할 수 있습니다. <code>read_only_fields</code>의 경우와 같이 Serializer에서 필드를 명시적으로 선언할 필요가 없습니다.</p> <p>이 옵션은 필드 이름을 키워드 인수에 매핑하는 dictionary 입니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CreateUserSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> User
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">,</span> <span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'password'</span><span class="token punctuation">]</span>
        extra_kwargs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'password'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'write_only'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        user <span class="token operator">=</span> User<span class="token punctuation">(</span>
            email<span class="token operator">=</span>validated_data<span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            username<span class="token operator">=</span>validated_data<span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span>
        <span class="token punctuation">)</span>
        user<span class="token punctuation">.</span>set_password<span class="token punctuation">(</span>validated_data<span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        user<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> user
</code></pre></div><p>필드가 이미 serializer 클래스에서 명시적으로 선언 된 경우 extra_kwargs 옵션이 무시됩니다.</p> <h3 id="관계형-필드"><a href="#관계형-필드" class="header-anchor">#</a> 관계형 필드</h3> <p>Model 인스턴스를 직렬화 할 때 relationships을 나타내는 여러 가지 방법이 있습니다. 기본적으로는 ModelSerializer에 관련 인스턴스의 기본 키를 사용하는 것입니다.</p> <p>대체 방식에는 하이퍼링크(hyperlinks)를 사용한 직렬화, 전체 중첩 표현을 직렬화 하거나 또는 사용자 정의를 사용한 직렬화가 포함됩니다.</p> <p>자세한 내용은 <a href="https://www.django-rest-framework.org/api-guide/relations/" target="_blank" rel="noopener noreferrer">Serializer Relations<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 설명서를 참조하십시오.</p> <h3 id="필드-매핑-사용자-정의"><a href="#필드-매핑-사용자-정의" class="header-anchor">#</a> 필드 매핑 사용자 정의</h3> <p><code>ModelSerializer</code> 클래스는 serializer를 인스턴스화 할 때 serializer 필드가 자동으로 결정되는 방식을 변경하기 위해 재정의할 수 있는 API도 제공합니다.</p> <p>일반적으로 <code>ModelSerializer</code>가 기본적으로 필요한 필드를 생성하지 않으면 클래스에 명시적으로 추가하거나 Serializer 대신 일반 클래스를 사용해야 합니다 . 그러나 어떤 경우에는 주어진 모델에 대해 serializer 필드를 만드는 방법을 정의하는 새로운 기본 클래스를 만들 수 있습니다.</p> <p><code>.serializer_field_mapping</code>
Django 모델 클래스를 REST 프레임워크 Serializer 클래스에서 매핑을 재정의하여 각 모델 클래스에 사용해야하는 기본 Serializer 클래스를 변경할 수 있습니다.</p> <p><code>.serializer_related_field</code>
이 특성은 Serializer 필드 클래스 여야하며 기본적으로 관계형 필드에 사용됩니다.</p> <p><code>ModelSerializer</code>대한 기본값 <code>PrimaryKeyRelatedField</code>.
<code>HyperlinkedModelSerializer</code>대한 기본값 serializers.HyperlinkedRelatedField.</p> <p><code>serializer_url_field</code>
Serializer의 모든 url필드에 사용해야하는 필드 클래스입니다 .
기본값은 <code>serializers.HyperlinkedIdentityField</code></p> <p><code>serializer_choice_field</code>
Serializer의 선택 필드에 사용해야하는 필드 클래스입니다.
기본값은 <code>serializers.ChoiceField</code></p> <h4 id="field-class-및-field-kwargs-api"><a href="#field-class-및-field-kwargs-api" class="header-anchor">#</a> field_class 및 field_kwargs API</h4> <p>Serializer 에 자동으로 포함되어야하는 각 필드의 클래스 및 키워드 인수를 판별하기 위해 다음 메소드가 호출됩니다. 이러한 각 메소드는 (field_class, field_kwargs)의 두 튜플을 반환해야 합니다.</p> <p><code>.build_standard_field(self, field_name, model_field)</code>
표준 모델 필드에 매핑되는 Serializer 필드를 생성하기 위해 호출됩니다.
기본 구현은 serializer_field_mapping속성을 기반으로 serializer 클래스를 반환 합니다.</p> <p><code>.build_relational_field(self, field_name, relation_info)</code>
관계형 모델 필드에 매핑되는 Serializer 필드를 생성하기 위해 호출됩니다.
기본 구현은 serializer_related_field 속성을 기반으로 serializer 클래스를 반환 합니다.
relation_info 인수는 model_field, related_model, to_many및 has_through_model 속성을 포함한 튜플입니다.</p> <p><code>.build_nested_field(self, field_name, relation_info, nested_depth)</code>
depth 옵션이 설정 되면 관계형 모델 필드에 매핑되는 Serializer 필드를 생성하기 위해 호출됩니다.</p> <p>기본 구현은 ModelSerializer 또는 HyperlinkedModelSerializer에 기반하여 중첩된 Serializer 클래스를 동적으로 작성합니다.</p> <p>nested_depth의 값은 depth 옵션에서 1을 뺀 값이 됩니다.</p> <p><code>.build_property_field(self, field_name, model_class)</code>
모델 클래스의 속성 또는 인수가 없는 메소드에 맵핑되는 Serializer 필드를 생성하기 위해 호출됩니다.</p> <p>기본 구현은 <code>ReadOnlyField</code> 클래스를 반환합니다 .</p> <p><code>.build_url_field(self, field_name, model_class)</code>
Serializer 자체 url필드 에 대한 Serializer 필드를 생성하기 위해 호출됩니다 . 기본 구현은 <code>HyperlinkedIdentityField</code> 클래스를 반환합니다 .</p> <p><code>.build_unknown_field(self, field_name, model_class)</code>
필드 이름이 모델 필드 또는 모델 속성에 매핑되지 않은 경우 호출됩니다. 서브 클래스가 이 동작을 사용자 정의 할 수 있지만 기본 구현에서는 오류가 발생합니다.</p> <h2 id="hyperlinkedmodelserializer"><a href="#hyperlinkedmodelserializer" class="header-anchor">#</a> HyperlinkedModelSerializer</h2> <p><code>HyperlinkedModelSerializer</code> 클래스는 relationships를 표현하기 위해 기본 키(primary key) 대신 하이퍼 링크를 사용하는 것을 제외하고는 <code>ModelSerializer</code> 클래스와 유사합니다.</p> <p><code>HyperlinkedModelSerializer</code> 클래스는 기본적으로 기본 키 필드 대신 <code>url</code> 필드를 포함합니다.</p> <p>url 필드는 <code>HyperlinkedIdentityField</code> 필드를 사용하여 표현되며 모델의 모든 relationships은 <code>HyperlinkedRelatedField</code> 필드를 사용하여 표현됩니다.</p> <p>fields 옵션에 기본 키를 명시적으로 포함시킬 수 있습니다 . 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>HyperlinkedModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'url'</span><span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'account_name'</span><span class="token punctuation">,</span> <span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token string">'created'</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="절대-및-상대-url"><a href="#절대-및-상대-url" class="header-anchor">#</a> 절대 및 상대 URL</h3> <p><code>HyperlinkedModelSerializer</code> 를 인스턴스화 할 때 serializer 컨텍스트에 현재 request를 포함해야 합니다. :</p> <div class="language-python extra-class"><pre class="language-python"><code>serializer <span class="token operator">=</span> AccountSerializer<span class="token punctuation">(</span>queryset<span class="token punctuation">,</span> context<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'request'</span><span class="token punctuation">:</span> request<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>그렇게 하면 하이퍼링크에 적절한 호스트 이름이 포함된 결과 다음과 같이 정규화 된 URL을 사용합니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>api<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>accounts<span class="token operator">/</span><span class="token number">1</span><span class="token operator">/</span>
</code></pre></div><p>다음과 같은 상대적 URL</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">/</span>accounts<span class="token operator">/</span><span class="token number">1</span><span class="token operator">/</span>
</code></pre></div><p>상대 URL을 사용하려면, serializer 컨텍스트에 <code>{'request': None}</code>를 명시적으로 전달해야 합니다.</p> <h3 id="하이퍼링크-된-뷰가-결정되는-방법"><a href="#하이퍼링크-된-뷰가-결정되는-방법" class="header-anchor">#</a> 하이퍼링크 된 뷰가 결정되는 방법</h3> <p>모델의 인스턴스의 하이퍼링크에 사용해야 하는 뷰를 결정하는 방법이 필요합니다.</p> <p>기본적으로 하이퍼링크는 <code>'{model_name}-detail'</code> style과 일치하는 뷰 이름에 해당 하며 pk 키워드 인수로 인스턴스를 찾습니다.</p> <p>다음과 같이 view_name 및 lookup_field 옵션 중 하나 또는 둘 다를 사용하여 extra_kwargs의 url 필드의 뷰 이름(view name) 및 조회 필드(lookup field)를 대체 할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>HyperlinkedModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'account_url'</span><span class="token punctuation">,</span> <span class="token string">'account_name'</span><span class="token punctuation">,</span> <span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token string">'created'</span><span class="token punctuation">]</span>
        extra_kwargs <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string">'url'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'view_name'</span><span class="token punctuation">:</span> <span class="token string">'accounts'</span><span class="token punctuation">,</span> <span class="token string">'lookup_field'</span><span class="token punctuation">:</span> <span class="token string">'account_name'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'users'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'lookup_field'</span><span class="token punctuation">:</span> <span class="token string">'username'</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre></div><p>또는 serializer 의 필드를 명시적으로 설정할 수 있습니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>HyperlinkedModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    url <span class="token operator">=</span> serializers<span class="token punctuation">.</span>HyperlinkedIdentityField<span class="token punctuation">(</span>
        view_name<span class="token operator">=</span><span class="token string">'accounts'</span><span class="token punctuation">,</span>
        lookup_field<span class="token operator">=</span><span class="token string">'slug'</span>
    <span class="token punctuation">)</span>
    users <span class="token operator">=</span> serializers<span class="token punctuation">.</span>HyperlinkedRelatedField<span class="token punctuation">(</span>
        view_name<span class="token operator">=</span><span class="token string">'user-detail'</span><span class="token punctuation">,</span>
        lookup_field<span class="token operator">=</span><span class="token string">'username'</span><span class="token punctuation">,</span>
        many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
        read_only<span class="token operator">=</span><span class="token boolean">True</span>
    <span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'url'</span><span class="token punctuation">,</span> <span class="token string">'account_name'</span><span class="token punctuation">,</span> <span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token string">'created'</span><span class="token punctuation">]</span>
</code></pre></div><p>팁 : 하이퍼링크 된 표현과 URL conf를 올바르게 일치시키는 것은 때때로 약간 어색할 수 있습니다. <code>repr</code>를 사용하여 <code>HyperlinkedModelSerializer</code> 를 출력하는 것은 view names 과 lookup fields 를 정확하게 검사할 수 있는 유용한 방법입니다.</p> <h3 id="url-필드-이름-변경"><a href="#url-필드-이름-변경" class="header-anchor">#</a> URL 필드 이름 변경</h3> <p>URL 필드의 이름은 기본적으로 'url'입니다. <code>URL_FIELD_NAME</code> 설정을 사용하여 이 설정을 전체적으로 변경할 수 있습니다.</p> <h2 id="listserializer"><a href="#listserializer" class="header-anchor">#</a> ListSerializer</h2> <p>이 <code>ListSerializer</code>클래스는 여러 객체를 한 번에 직렬화하고 유효성을 검사하는 동작을 제공합니다. 일반적으로 <code>ListSerializer</code>를 직접 사용하지 않고 Serializer를 인스턴스화 할 때 <code>many=True</code> 합니다.</p> <p>many=True 전달되고 Serializer가 인스턴스화 될 때 ListSerializer 인스턴스가 생성됩니다. 그런 다음 serializer 클래스는 ListSerializer 부모의 자식이 됩니다.</p> <h3 id="allow-empty"><a href="#allow-empty" class="header-anchor">#</a> allow_empty</h3> <p>True가 기본적으로 설정되며 False는 빈 목록을 허용하지 않습니다.</p> <h3 id="listserializer-behavior-커스터마이징"><a href="#listserializer-behavior-커스터마이징" class="header-anchor">#</a> ListSerializer behavior 커스터마이징</h3> <p>사용자가 정의할 수 있는 몇 가지 ListSerializer 동작이 있습니다. 예를 들면 다음과 같습니다.</p> <ul><li>한 요소가 목록의 다른 요소와 충돌하지 않는지 확인하는 등 목록의 특정 유효성 검사를 제공하려고 합니다.</li> <li>여러 객체의 작성 또는 업데이트 동작을 사용자 정의하려고 합니다.</li></ul> <p>이러한 경우 <code>many=True</code> 를 전달하여 사용되는 serializer클래스의 Meta 클래스에 <code>list_serializer_class</code>옵션을 사용하여  를 수정할 수 있습니다 .</p> <p>예를 들면 다음과 같습니다</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CustomListSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ListSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">class</span> <span class="token class-name">CustomSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        list_serializer_class <span class="token operator">=</span> CustomListSerializer
</code></pre></div><h4 id="다중-작성-사용자-정의"><a href="#다중-작성-사용자-정의" class="header-anchor">#</a> 다중 작성 사용자 정의</h4> <p>다중 객체 생성의 기본 구현은 단순히 목록의 각 항목을 .create() 호출하는 것 입니다. 이 동작을 사용자 정의하려면 ListSerializermany=True 전달하여 사용되는 클래스의 .create() 메소드를 사용자 정의해야 합니다.</p> <p>예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">BookListSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ListSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        books <span class="token operator">=</span> <span class="token punctuation">[</span>Book<span class="token punctuation">(</span><span class="token operator">**</span>item<span class="token punctuation">)</span> <span class="token keyword">for</span> item <span class="token keyword">in</span> validated_data<span class="token punctuation">]</span>
        <span class="token keyword">return</span> Book<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>bulk_create<span class="token punctuation">(</span>books<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">BookSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        list_serializer_class <span class="token operator">=</span> BookListSerializer
</code></pre></div><h4 id="여러-업데이트-사용자-정의"><a href="#여러-업데이트-사용자-정의" class="header-anchor">#</a> 여러 업데이트 사용자 정의</h4> <p>기본적으로 ListSerializer 클래스는 다중 업데이트를 지원하지 않습니다. 삽입 및 삭제에 필요한 동작이 모호하기 때문입니다.</p> <p>자중 업데이트를 지원하려면 명시적으로 업데이트 해야 합니다. 다중 업데이트 코드를 작성할 때 다음을 명심하십시오.</p> <ul><li>데이터 목록에서 각 항목에 대해 업데이트 할 인스턴스를 어떻게 결정합니까?</li> <li>삽입은 어떻게 처리해야 합니까? 그것들이 유효하지 않다면 새로운 객체를 생성합니까?</li> <li>제거는 어떻게 처리해야 합니까? 그것들은 객체 삭제 또는 관계 제거를 의미합니까? 자동으로 무시해야 합니까, 아니면 유효하지 않습니까?</li> <li>순서는 어떻게 처리해야합니까? 두 항목의 위치를 ​​변경하면 상태가 변경되거나 무시됩니까?</li></ul> <p>인스턴스 Serializer에 명시적 id 필드를 추가해야합니다. 내재적으로 생성된 기본 id필드는  read_only로 표시됩니다. 이로 인해 업데이트시 제거됩니다. 명시적으로 선언하면 목록 serializer의 update 메소드에서 사용할 수 있습니다 .</p> <p>다음은 다중 업데이트를 구현하도록 선택하는 방법에 대한 예입니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">BookListSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ListSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Maps for id-&gt;instance and id-&gt;data item.</span>
        book_mapping <span class="token operator">=</span> <span class="token punctuation">{</span>book<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">:</span> book <span class="token keyword">for</span> book <span class="token keyword">in</span> instance<span class="token punctuation">}</span>
        data_mapping <span class="token operator">=</span> <span class="token punctuation">{</span>item<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">:</span> item <span class="token keyword">for</span> item <span class="token keyword">in</span> validated_data<span class="token punctuation">}</span>

        <span class="token comment"># Perform creations and updates.</span>
        ret <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> book_id<span class="token punctuation">,</span> data <span class="token keyword">in</span> data_mapping<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            book <span class="token operator">=</span> book_mapping<span class="token punctuation">.</span>get<span class="token punctuation">(</span>book_id<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> book <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                ret<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>child<span class="token punctuation">.</span>create<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                ret<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>child<span class="token punctuation">.</span>update<span class="token punctuation">(</span>book<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Perform deletions.</span>
        <span class="token keyword">for</span> book_id<span class="token punctuation">,</span> book <span class="token keyword">in</span> book_mapping<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> book_id <span class="token keyword">not</span> <span class="token keyword">in</span> data_mapping<span class="token punctuation">:</span>
                book<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> ret

<span class="token keyword">class</span> <span class="token class-name">BookSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># We need to identify elements in the list using their primary key,</span>
    <span class="token comment"># so use a writable field here, rather than the default which would be read-only.</span>
    <span class="token builtin">id</span> <span class="token operator">=</span> serializers<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        list_serializer_class <span class="token operator">=</span> BookListSerializer
</code></pre></div><p>REST 프레임워크 2에 있는 allow_add_remove  동작과 유사한 다중 업데이트 조작에 대한 일부 자동 지원을 제공하는 3.1 릴리스와 함께 써드 파티 패키지가 포함될 수 있습니다 .</p> <h3 id="listserializer-초기화-사용자-정의"><a href="#listserializer-초기화-사용자-정의" class="header-anchor">#</a> ListSerializer 초기화 사용자 정의</h3> <p>serializer가 many=True로 인스턴스화되면  <strong>init</strong>()자식 Serializer클래스와 부모 ListSerializer클래스 메서드에 전달할 인수와 키워드 인수를 결정해야 합니다.</p> <p>기본 구현은 을 제외한 validators모든 인수와 두 개의 자식 serializer 클래스 용으로 가정되는 사용자 정의 키워드 인수를 모두 전달하는 것입니다.</p> <p>간혹 many=True가 전달 될 때 자식 클래스와 부모 클래스를 인스턴스화하는 방법을 명시적으로 지정해야 할 수도 있습니다. many_init 클래스 메소드 를 사용하면 됩니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">many_init</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Instantiate the child serializer.</span>
        kwargs<span class="token punctuation">[</span><span class="token string">'child'</span><span class="token punctuation">]</span> <span class="token operator">=</span> cls<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># Instantiate the parent list serializer.</span>
        <span class="token keyword">return</span> CustomListSerializer<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre></div><h2 id="baseserializer"><a href="#baseserializer" class="header-anchor">#</a> BaseSerializer</h2> <p>BaseSerializer는 직렬화 및 직렬화 해제 스타일을 쉽게 지원하는 데 사용할 수 있는 클래스입니다.</p> <p>이 클래스는 <code>Serializer</code> 클래스와 동일한 기본 API를 구현합니다.</p> <ul><li>.data -발신 기본 표현을 반환합니다.</li> <li>.is_valid() -들어오는 데이터를 역 직렬화하고 유효성을 검사합니다.</li> <li>.validated_data -검증 된 수신 데이터를 반환합니다.</li> <li>.errors -유효성 검사 중 오류를 반환합니다.</li> <li>.save() -검증 된 데이터를 객체 인스턴스에 유지합니다.</li></ul> <p>serializer 클래스가 지원할 기능에 따라 재정의 할 수 있는 네 가지 방법이 있습니다.</p> <ul><li>.to_representation() -읽기 조작을 위해 직렬화를 지원하도록 이를 대체 하십시오.</li> <li>.to_internal_value() -쓰기 작업에 대해 역 직렬화를 지원하도록 이를 재정의 하십시오.</li> <li>.create()및 .update()- 오버라이드 중 하나 또는 이들의 모두 인스턴스의 저장을 지원합니다.</li></ul> <p>이 클래스가Serializer클래스 같은 인터페이스를 제공하기 때문에 Serializer또는 ModelSerializer 처럼 기존의 일반적인 클래스 기반 뷰와 함께 사용할 수 있습니다.</p> <p>차이점은 BaseSerializer클래스가 browsable  API에서 HTML 양식을 생성하지 않는다는 것입니다. 반환되는 데이터에 각 필드를 적절한 HTML 입력으로 렌더링 할 수있는 모든 필드 정보가 포함되어 있지 않기 때문입니다.</p> <h3 id="읽기-전용-baseserializer-클래스"><a href="#읽기-전용-baseserializer-클래스" class="header-anchor">#</a> 읽기 전용 BaseSerializer 클래스</h3> <p>BaseSerializer클래스를 사용하여 읽기 전용 Serializer를 구현하려면 .to_representation() 메서드를 재정의하면 됩니다. 간단한 Django 모델을 사용하는 예를 살펴 보겠습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">HighScore</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    created <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>auto_now_add<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    player_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
    score <span class="token operator">=</span> models<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>HighScore 인스턴스를 기본 데이터 유형으로 변환하기 위한 읽기 전용 Serializer를 작성하는 것은 간단합니다 .</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">HighScoreSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>BaseSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">to_representation</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token string">'score'</span><span class="token punctuation">:</span> instance<span class="token punctuation">.</span>score<span class="token punctuation">,</span>
            <span class="token string">'player_name'</span><span class="token punctuation">:</span> instance<span class="token punctuation">.</span>player_name
        <span class="token punctuation">}</span>
</code></pre></div><p>이제 클래스를 사용하여 단일 HighScore 인스턴스를 직렬화 할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@api_view</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">high_score</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> pk<span class="token punctuation">)</span><span class="token punctuation">:</span>
    instance <span class="token operator">=</span> HighScore<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span>pk<span class="token operator">=</span>pk<span class="token punctuation">)</span>
    serializer <span class="token operator">=</span> HighScoreSerializer<span class="token punctuation">(</span>instance<span class="token punctuation">)</span>
    <span class="token keyword">return</span> Response<span class="token punctuation">(</span>serializer<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
</code></pre></div><p>또는 여러 인스턴스를 직렬화하는 데 사용할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@api_view</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">all_high_scores</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> HighScore<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'-score'</span><span class="token punctuation">)</span>
    serializer <span class="token operator">=</span> HighScoreSerializer<span class="token punctuation">(</span>queryset<span class="token punctuation">,</span> many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Response<span class="token punctuation">(</span>serializer<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
</code></pre></div><h3 id="읽기-쓰기-baseserializer-클래스"><a href="#읽기-쓰기-baseserializer-클래스" class="header-anchor">#</a> 읽기-쓰기 BaseSerializer 클래스</h3> <p>읽기-쓰기 serializer 를 작성하려면 먼저 .to_internal_value() 메소드를 구현해야합니다 . 이 메소드는 오브젝트 인스턴스를 구성하는데 사용될 유효성 검증 된 값을 리턴하며 제공된 데이터가 올바르지 않은 형식 ValidationError인 경우를 발생시킬 수 있습니다.</p> <p>.to_internal_value() 구현하면, 기본적인 검증 API는 serializer에서 사용할 수 있습니다, is_valid(), .validated_data 그리고 .errors. 사용할 수 있습니다.</p> <p>또한 .save() 지원 하려면 .create()과 .update() 메소드 중 하나 또는 둘 다를 구현해야 합니다.</p> <p>다음은 이전 작업의 전체 예이며 HighScoreSerializer, 읽기 및 쓰기 작업을 모두 지원하도록 변경 되었습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">HighScoreSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>BaseSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">to_internal_value</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        score <span class="token operator">=</span> data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'score'</span><span class="token punctuation">)</span>
        player_name <span class="token operator">=</span> data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'player_name'</span><span class="token punctuation">)</span>

        <span class="token comment"># Perform the data validation.</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> score<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> serializers<span class="token punctuation">.</span>ValidationError<span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token string">'score'</span><span class="token punctuation">:</span> <span class="token string">'This field is required.'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> player_name<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> serializers<span class="token punctuation">.</span>ValidationError<span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token string">'player_name'</span><span class="token punctuation">:</span> <span class="token string">'This field is required.'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>player_name<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> serializers<span class="token punctuation">.</span>ValidationError<span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token string">'player_name'</span><span class="token punctuation">:</span> <span class="token string">'May not be more than 10 characters.'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment"># Return the validated values. This will be available as</span>
        <span class="token comment"># the `.validated_data` property.</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token string">'score'</span><span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'player_name'</span><span class="token punctuation">:</span> player_name
        <span class="token punctuation">}</span>

    <span class="token keyword">def</span> <span class="token function">to_representation</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token string">'score'</span><span class="token punctuation">:</span> instance<span class="token punctuation">.</span>score<span class="token punctuation">,</span>
            <span class="token string">'player_name'</span><span class="token punctuation">:</span> instance<span class="token punctuation">.</span>player_name
        <span class="token punctuation">}</span>

    <span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> HighScore<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token operator">**</span>validated_data<span class="token punctuation">)</span>
</code></pre></div><h3 id="새로운-기본-클래스-만들기"><a href="#새로운-기본-클래스-만들기" class="header-anchor">#</a> 새로운 기본 클래스 만들기</h3> <p>이 BaseSerializer 클래스는 특정 직렬화 스타일을 처리하거나 대체 스토리지 백엔드와 통합하기 위해 새로운 일반 Serializer 클래스를 구현하려는 경우에도 유용합니다.</p> <p>다음 클래스는 임의의 객체를 원시적 표현으로 강제 처리하는 일반 Serializer의 예 입니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ObjectSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>BaseSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    A read-only serializer that coerces arbitrary complex objects
    into primitive representations.
    &quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">to_representation</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">:</span>
        output <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword">for</span> attribute_name <span class="token keyword">in</span> <span class="token builtin">dir</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">:</span>
            attribute <span class="token operator">=</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> attribute_name<span class="token punctuation">)</span>
            <span class="token keyword">if</span> attribute_name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># Ignore private attributes.</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">elif</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>attribute<span class="token punctuation">,</span> <span class="token string">'__call__'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># Ignore methods and other callables.</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>attribute<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># Primitive types can be passed through unmodified.</span>
                output<span class="token punctuation">[</span>attribute_name<span class="token punctuation">]</span> <span class="token operator">=</span> attribute
            <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>attribute<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># Recursively deal with items in lists.</span>
                output<span class="token punctuation">[</span>attribute_name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
                    self<span class="token punctuation">.</span>to_representation<span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token keyword">for</span> item <span class="token keyword">in</span> attribute
                <span class="token punctuation">]</span>
            <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>attribute<span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># Recursively deal with items in dictionaries.</span>
                output<span class="token punctuation">[</span>attribute_name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token builtin">str</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>to_representation<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
                    <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> attribute<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># Force anything else to its string representation.</span>
                output<span class="token punctuation">[</span>attribute_name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span>
        <span class="token keyword">return</span> output
</code></pre></div><h2 id="advanced-serializer-사용법"><a href="#advanced-serializer-사용법" class="header-anchor">#</a> Advanced serializer 사용법</h2> <h3 id="직렬화-및-역-직렬화-동작-재정의"><a href="#직렬화-및-역-직렬화-동작-재정의" class="header-anchor">#</a> 직렬화 및 역 직렬화 동작 재정의</h3> <p>serializer 클래스의 serialization 또는 deserialization 동작을 변경해야하는 경우 .to_representation()or .to_internal_value()메서드 를 재정의하면 됩니다.</p> <p>이것이 유용한 이유는 다음과 같습니다.</p> <p>새로운 serializer 기본 클래스에 대한 새로운 동작 추가
기존 클래스의 동작을 약간 수정합니다.
많은 양의 데이터를 반환하는 자주 액세스하는 API 엔드 포인트에 대한 직렬화 성능 향상
이러한 방법의 서명은 다음과 같습니다.</p> <h4 id="to-representation-self-instance"><a href="#to-representation-self-instance" class="header-anchor">#</a> .to_representation(self, instance)</h4> <p>직렬화가 필요한 객체 인스턴스를 가져 와서 기본 표현을 반환해야합니다. 일반적으로 이것은 내장 Python 데이터 유형의 구조를 반환합니다. 처리 할 수있는 정확한 유형은 API에 대해 구성한 렌더 클래스에 따라 다릅니다.</p> <p>표현 스타일을 수정하기 위해 재정의 될 수 있습니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">to_representation</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;Convert `username` to lowercase.&quot;&quot;&quot;</span>
    ret <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_representation<span class="token punctuation">(</span>instance<span class="token punctuation">)</span>
    ret<span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span> <span class="token operator">=</span> ret<span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> ret
</code></pre></div><h4 id="to-internal-value-self-data"><a href="#to-internal-value-self-data" class="header-anchor">#</a> .to_internal_value(self, data)</h4> <p>확인되지 않은 수신 데이터를 입력으로 취하고로 사용할 수있는 확인 된 데이터를 반환해야합니다 serializer.validated_data. serializer 클래스에서 호출 된 경우 반환 값도 .create()or .update()메서드에 전달됩니다 .save().</p> <p>유효성 검사 중 하나라도 실패하면 메서드는을 발생시켜야합니다 serializers.ValidationError(errors). errors인수는 사전 매핑 필드 이름 (또는해야 settings.NON_FIELD_ERRORS_KEY오류 메시지 목록에). 역 직렬화 동작을 변경할 필요가없고 대신 오브젝트 레벨 유효성 검증을 제공하려는 경우 대신 .validate()메소드 를 대체하는 것이 좋습니다 .</p> <p>data이 메소드에 전달 된 인수는 일반적으로의 값 request.data이므로 제공하는 데이터 유형은 API에 대해 구성한 구문 분석기 클래스에 따라 다릅니다.</p> <h3 id="serializer-상속"><a href="#serializer-상속" class="header-anchor">#</a> Serializer 상속</h3> <p>장고 양식과 유사하게 상속을 통해 직렬 변환기를 확장하고 재사용 할 수 있습니다. 이를 통해 부모 클래스에서 공통 필드 또는 메소드 세트를 선언 한 후 여러 시리얼 라이저에서 사용할 수 있습니다. 예를 들어</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">MyBaseSerializer</span><span class="token punctuation">(</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    my_field <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">validate_my_field</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">class</span> <span class="token class-name">MySerializer</span><span class="token punctuation">(</span>MyBaseSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>Django Model및 ModelForm클래스 와 마찬가지로 Meta직렬 변환기 의 내부 클래스는 부모의 내부 Meta클래스 에서 암시 적으로 상속되지 않습니다 . 당신이 원하는 경우 Meta부모 클래스에서 상속 클래스를 그렇게 명시 적으로 수행해야합니다. 예를 들면 다음과 같습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AccountSerializer</span><span class="token punctuation">(</span>MyBaseSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">(</span>MyBaseSerializer<span class="token punctuation">.</span>Meta<span class="token punctuation">)</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Account
</code></pre></div><p>일반적으로 내부 메타 클래스에서 상속을 사용 하지 말고 대신 모든 옵션을 명시 적으로 선언하는 것이 좋습니다 .</p> <p>또한 다음주의 사항이 serializer 상속에 적용됩니다.</p> <p>일반적인 파이썬 이름 확인 규칙이 적용됩니다. Meta내부 클래스 를 선언하는 여러 기본 클래스가있는 경우 첫 번째 클래스 만 사용됩니다. 이는 자녀의 Meta존재하는 경우, 그렇지 않으면 Meta첫 번째 부모의 자녀 등을 의미합니다.
서브 클래스에 Field이름을 설정하여 부모 클래스에서 상속 된 상속 을 선언적으로 제거 할 수 있습니다 None.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">MyBaseSerializer</span><span class="token punctuation">(</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    my_field <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">MySerializer</span><span class="token punctuation">(</span>MyBaseSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    my_field <span class="token operator">=</span> <span class="token boolean">None</span>
</code></pre></div><p>그러나이 기술 만 사용하여 부모 클래스에 의해 선언적으로 정의 된 필드를 옵트 아웃 할 수 있습니다. ModelSerializer기본 필드를 생성하는 것을 막지 않습니다 . 기본 필드에서 옵트 아웃하려면 포함 할 필드 지정을 참조하십시오 .</p> <h3 id="필드를-동적으로-수정"><a href="#필드를-동적으로-수정" class="header-anchor">#</a> 필드를 동적으로 수정</h3> <p>직렬 변환기가 초기화되면 .fields특성을 사용하여 직렬 변환기에 설정된 필드 사전에 액세스 할 수 있습니다 . 이 속성에 액세스하고 수정하면 직렬 변환기를 동적으로 수정할 수 있습니다.</p> <p>fields인수를 직접 수정하면 직렬화기를 선언하는 시점이 아니라 런타임시 직렬화 기 필드의 인수를 변경하는 것과 같은 흥미로운 작업을 수행 할 수 있습니다.</p> <p>예
예를 들어, 초기화 시점에 직렬 변환기에서 사용해야하는 필드를 설정하려면 다음과 같이 직렬 변환기 클래스를 작성할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">DynamicFieldsModelSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    A ModelSerializer that takes an additional `fields` argument that
    controls which fields should be displayed.
    &quot;&quot;&quot;</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Don't pass the 'fields' arg up to the superclass</span>
        fields <span class="token operator">=</span> kwargs<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'fields'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>

        <span class="token comment"># Instantiate the superclass normally</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>DynamicFieldsModelSerializer<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>

        <span class="token keyword">if</span> fields <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token comment"># Drop any fields that are not specified in the `fields` argument.</span>
            allowed <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>fields<span class="token punctuation">)</span>
            existing <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>fields<span class="token punctuation">)</span>
            <span class="token keyword">for</span> field_name <span class="token keyword">in</span> existing <span class="token operator">-</span> allowed<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>fields<span class="token punctuation">.</span>pop<span class="token punctuation">(</span>field_name<span class="token punctuation">)</span>
</code></pre></div><p>그러면 다음을 수행 할 수 있습니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">class</span> <span class="token class-name">UserSerializer</span><span class="token punctuation">(</span>DynamicFieldsModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>     <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>         model <span class="token operator">=</span> User
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>         fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>UserSerializer<span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token string">'id'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'username'</span><span class="token punctuation">:</span> <span class="token string">'jonwatts'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">:</span> <span class="token string">'jon@example.com'</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>UserSerializer<span class="token punctuation">(</span>user<span class="token punctuation">,</span> fields<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token string">'id'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">:</span> <span class="token string">'jon@example.com'</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="기본-필드-사용자-정의"><a href="#기본-필드-사용자-정의" class="header-anchor">#</a> 기본 필드 사용자 정의</h3> <p>REST 프레임 워크 2는 개발자가 ModelSerializer클래스가 기본 필드 세트를 자동으로 생성하는 방법을 대체 할 수 있도록 API를 제공했습니다 .</p> <p>이 API는 포함 .get_field(), .get_pk_field()다른 방법.</p> <p>시리얼 라이저는 기본적으로 3.0으로 재 설계되었으므로이 API는 더 이상 존재하지 않습니다. 생성 된 필드를 계속 수정할 수 있지만 소스 코드를 참조해야하며 변경 사항이 API의 개인 비트에 대해 변경되는 경우 변경 될 수 있음을 알고 있어야합니다.</p> <h2 id="third-party-packages"><a href="#third-party-packages" class="header-anchor">#</a> Third party packages</h2> <p>The following third party packages are also available.</p> <h3 id="django-rest-marshmallow"><a href="#django-rest-marshmallow" class="header-anchor">#</a> Django REST marshmallow</h3> <p>The django-rest-marshmallow package provides an alternative implementation for serializers, using the python marshmallow library. It exposes the same API as the REST framework serializers, and can be used as a drop-in replacement in some use-cases.</p> <h3 id="serpy"><a href="#serpy" class="header-anchor">#</a> Serpy</h3> <p>The serpy package is an alternative implementation for serializers that is built for speed. Serpy serializes complex datatypes to simple native types. The native types can be easily converted to JSON or any other format needed.</p> <h3 id="mongoenginemodelserializer"><a href="#mongoenginemodelserializer" class="header-anchor">#</a> MongoengineModelSerializer</h3> <p>The django-rest-framework-mongoengine package provides a MongoEngineModelSerializer serializer class that supports using MongoDB as the storage layer for Django REST framework.</p> <h3 id="geofeaturemodelserializer"><a href="#geofeaturemodelserializer" class="header-anchor">#</a> GeoFeatureModelSerializer</h3> <p>The django-rest-framework-gis package provides a GeoFeatureModelSerializer serializer class that supports GeoJSON both for read and write operations.</p> <h3 id="hstoreserializer"><a href="#hstoreserializer" class="header-anchor">#</a> HStoreSerializer</h3> <p>The django-rest-framework-hstore package provides an HStoreSerializer to support django-hstore DictionaryField model field and its schema-mode feature.</p> <h3 id="dynamic-rest"><a href="#dynamic-rest" class="header-anchor">#</a> Dynamic REST</h3> <p>The dynamic-rest package extends the ModelSerializer and ModelViewSet interfaces, adding API query parameters for filtering, sorting, and including / excluding all fields and relationships defined by your serializers.</p> <h3 id="dynamic-fields-mixin"><a href="#dynamic-fields-mixin" class="header-anchor">#</a> Dynamic Fields Mixin</h3> <p>The drf-dynamic-fields package provides a mixin to dynamically limit the fields per serializer to a subset specified by an URL parameter.</p> <h3 id="drf-flexfields"><a href="#drf-flexfields" class="header-anchor">#</a> DRF FlexFields</h3> <p>The drf-flex-fields package extends the ModelSerializer and ModelViewSet to provide commonly used functionality for dynamically setting fields and expanding primitive fields to nested models, both from URL parameters and your serializer class definitions.</p> <h3 id="serializer-extensions"><a href="#serializer-extensions" class="header-anchor">#</a> Serializer Extensions</h3> <p>The django-rest-framework-serializer-extensions package provides a collection of tools to DRY up your serializers, by allowing fields to be defined on a per-view/request basis. Fields can be whitelisted, blacklisted and child serializers can be optionally expanded.</p> <h3 id="drf-base64"><a href="#drf-base64" class="header-anchor">#</a> DRF-Base64</h3> <p>DRF-Base64 provides a set of field and model serializers that handles the upload of base64-encoded files.</p> <h3 id="queryfields"><a href="#queryfields" class="header-anchor">#</a> QueryFields</h3> <p>djangorestframework-queryfields allows API clients to specify which fields will be sent in the response via inclusion/exclusion query parameters.</p> <h3 id="drf-writable-nested"><a href="#drf-writable-nested" class="header-anchor">#</a> DRF Writable Nested</h3> <p>The drf-writable-nested package provides writable nested model serializer which allows to create/update models with nested related data.</p> <p><a href="https://www.django-rest-framework.org/api-guide/serializers/#serializers" target="_blank" rel="noopener noreferrer">Serializers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tool-module/django-rest/viewsets.html" class="prev">
        심화-ViewSets
      </a></span> <span class="next"><a href="/tool-module/django-rest/serializer-relations.html">
        심화-Serializer Relations
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.226a413b.js" defer></script><script src="/assets/js/2.73abacf5.js" defer></script><script src="/assets/js/74.2b525f65.js" defer></script>
  </body>
</html>
