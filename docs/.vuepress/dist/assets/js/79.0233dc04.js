(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{437:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"기초-관계-하이퍼링크"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#기초-관계-하이퍼링크"}},[t._v("#")]),t._v(" 기초-관계 & 하이퍼링크")]),t._v(" "),a("p",[t._v("지금까지 API의 relationsihp은 기본 키(primary key)를 사용하여 표현했습니다. 이번 튜토리얼에서는 관계에 하이퍼링크(hyperlink)를 사용하여 API의 결합(cohesion)과 검색 용이성(discoverability )을 향상시키도록 하겠습니다.")]),t._v(" "),a("h2",{attrs:{id:"api-루트-엔드-포인트-작성"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-루트-엔드-포인트-작성"}},[t._v("#")]),t._v(" API 루트 엔드-포인트 작성")]),t._v(" "),a("p",[t._v("현재 'snippet' 및 'user'에 대한 엔드 포인트가 있지만 API에 대한 단일 진입점(entry point)이 없습니다. "),a("code",[t._v("snippets/views.py")]),t._v(" 에 "),a("code",[t._v("@api_view")]),t._v(" decorator를 사용하는 함수 기반 뷰(function-based view)를 추가해서 사용할 것 입니다.:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("decorators "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" api_view\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Response\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reverse "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" reverse\n\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@api_view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("api_root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" reverse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user-list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippets'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" reverse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet-list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v('여기서 두 가지를 주목 해야합니다. 먼저 정규화 된 URL("http://localhost:8000/snippets/")을 반환하기 위해 REST 프레임워크의 '),a("code",[t._v("reverse")]),t._v(" 기능을 사용하고 있습니다. 둘째, convenience names('user-list', 'snippet-list')에 의해 식별되는 URL 패턴은 나중에 "),a("code",[t._v("snippets/urls.py")]),t._v(" 에서 정의합니다.")]),t._v(" "),a("h2",{attrs:{id:"highlight-엔드-포인트-작성"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#highlight-엔드-포인트-작성"}},[t._v("#")]),t._v(" highlight 엔드-포인트 작성")]),t._v(" "),a("p",[t._v("pastebin API에 코드 highlight 의 엔드-포인트가 누락되어 있습니다.")]),t._v(" "),a("p",[t._v("코드 highlight 는 다른 API 엔드-포인트와 달리 JSON을 사용하지 않고 HTML 표현만 제공할 것 입니다. REST 프레임워크에서 제공하는 두 가지 스타일의 HTML renderer 가 있습니다. 하나는 templates를 사용하여 렌더링 된 HTML을 처리하고 다른 하나는 pre-rendered HTML을 처리합니다. 이 엔드-포인트에서는 pre-rendered HTML를 사용하려고 합니다.")]),t._v(" "),a("p",[t._v("코드 highlight view를 만들 때 고려해야 할 또 다른 사항은 사용할 수 있는 기존의 구체적인 generic view가 없다는 것과 객체 인스턴스를 반환하지 않고 객체 인스턴스의 속성을 반환할 것 입니다.")]),t._v(" "),a("p",[t._v("구체적인 뷰를 사용하는 대신 기본 generic 클래스를 사용하는 SnippetHighlight 클래스를  "),a("code",[t._v("snippets/views.py")]),t._v(" 에 작성하고 다음과 같이 "),a("code",[t._v(".get()")]),t._v(" 메서드를 추가합니다.:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" rest_framework "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" renderers\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Response\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SnippetHighlight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("generics"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GenericAPIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    queryset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Snippet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    renderer_classes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("renderers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StaticHTMLRenderer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        snippet "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("snippet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("highlighted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("평소와 같이 새로 작성한 뷰를 URLconf 에 추가해야 합니다. "),a("code",[t._v("snippets/urls.py")]),t._v(" 파일에 API 루트에 대한 URL 패턴을 추가합니다.")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api_root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("그런 다음 스니펫 highlight에 대한 URL 패턴을 추가하십시오.")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippets/<int:pk>/highlight/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SnippetHighlight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h2",{attrs:{id:"api-하이퍼링크"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-하이퍼링크"}},[t._v("#")]),t._v(" API 하이퍼링크")]),t._v(" "),a("p",[t._v("엔터티 간의 관계를 다루는 것은 웹 API 디자인에서 가장 어려운 측면 중 하나 입니다. 관계를 나타내기 위해 선택할 수 있는 여러 가지 방법이 있습니다.")]),t._v(" "),a("ul",[a("li",[t._v("기본 키 사용")]),t._v(" "),a("li",[t._v("엔터티 간 하이퍼링크 사용")]),t._v(" "),a("li",[t._v("관련 엔터티에서 고유 식별 슬러그 필드를 사용")]),t._v(" "),a("li",[t._v("관련 엔터티의 기본 문자열 표현을 사용")]),t._v(" "),a("li",[t._v("부모 표현 내에 관련 엔터티 중첩")]),t._v(" "),a("li",[t._v("사용자 지정 표현")])]),t._v(" "),a("p",[t._v("REST 프레임워크는 이러한 모든 스타일을 지원하며 정방향 또는 역방향 관계에 적용하거나 일반 외래 키와 같은 사용자 정의 manager에서 적용 할 수 있습니다.")]),t._v(" "),a("p",[t._v("이 경우에는 엔터티 간에 하이퍼링크 스타일을 사용하려고 합니다. 그렇게하기 위해, serializer를   "),a("code",[t._v("HyperlinkedModelSerializer")]),t._v("-기존의 "),a("code",[t._v("ModelSerializer")]),t._v(" 대신하여-에 확장하도록 수정합니다.")]),t._v(" "),a("p",[a("code",[t._v("HyperlinkedModelSerializer")]),t._v("는 "),a("code",[t._v("ModelSerializer")]),t._v("과 다음과 같은 차이가 있습니다.:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("id")]),t._v(" 필드는 기본적으로 포함되지 않습니다.")]),t._v(" "),a("li",[a("code",[t._v("HyperlinkedIdentityField")]),t._v("를 사용하여 관련 "),a("code",[t._v("url")]),t._v(" 필드를 포함합니다.")]),t._v(" "),a("li",[t._v("관계를 연결하기 위해 "),a("code",[t._v("PrimaryKeyRelatedField")]),t._v(" 대신 "),a("code",[t._v("HyperlinkedRelatedField")]),t._v(" 를 사용  합니다.")])]),t._v(" "),a("p",[t._v("하이퍼링크를 사용하기 위해 "),a("code",[t._v("snippets/serializers.py")]),t._v(" 에 기존 serializer 를 다시 작성합니다.:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SnippetSerializer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serializers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HyperlinkedModelSerializer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    owner "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" serializers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ReadOnlyField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("source"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'owner.username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#snippet에서 수정 불가 ")]),t._v("\n    highlight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" serializers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HyperlinkedIdentityField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("view_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet-highlight'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# format을 html으로만 지정")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        model "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Snippet\n        fields "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'highlight'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'owner'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'code'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'linenos'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'language'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserSerializer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serializers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HyperlinkedModelSerializer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    snippets "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" serializers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HyperlinkedRelatedField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("many"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" view_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet-detail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" read_only"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Meta")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        model "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User\n        fields "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippets'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),a("p",[t._v("새로운 "),a("code",[t._v("'highlight'")]),t._v(" 필드를 추가했습니다 . 이 필드는 "),a("code",[t._v("'snippet-highlight'")]),t._v(" url 패턴을 가리키는 점을 제외하고는 url 필드와 동일한 유형입니다.")]),t._v(" "),a("p",[a("code",[t._v("'.json'")]),t._v(" 과 같은 형식 접미사 URL이 포함되어 있으므로 반환되는 형식 접미사 하이퍼링크에 해당 "),a("code",[t._v("'.html'")]),t._v("  접미사를 사용해야 함을 highlight 필드에 표시해야 합니다.")]),t._v(" "),a("h2",{attrs:{id:"url-패턴-지정-확인"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-패턴-지정-확인"}},[t._v("#")]),t._v(" URL 패턴 지정 확인")]),t._v(" "),a("p",[t._v("하이퍼링크 된 API를 사용하려면 URL 패턴의 이름을 지정해야 합니다. 이름을 지정해야 하는 URL 패턴을 살펴 보겠습니다.")]),t._v(" "),a("ul",[a("li",[t._v("API의 루트는 "),a("code",[t._v("'user-list'")]),t._v(" 및 "),a("code",[t._v("'snippet-list'")]),t._v("을 포함해야 합니다.")]),t._v(" "),a("li",[t._v("snippet serializer 에는 "),a("code",[t._v("'snippet-highlight'")]),t._v(" 를 나타내는 필드가 포함되어 있어야 합니다.")]),t._v(" "),a("li",[t._v("user serializer 는 "),a("code",[t._v("'snippet-detail'")]),t._v(" 를 나타내는 필드를 포함해야 합니다.")]),t._v(" "),a("li",[t._v("snippet 및 user serializer 에는 '{model_name}-detail' 를 참조할 'url' 필드가 포함되어야 합니다. ( 이 경우 "),a("code",[t._v("'snippet-detail'")]),t._v(" 및 "),a("code",[t._v("'user-detail'")]),t._v(")")])]),t._v(" "),a("p",[t._v("이러한 convenience name을 모두 URLconf 에 추가하여 snippets/urls.py 파일은 다음과 같아야 합니다.")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urls "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" path\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("urlpatterns "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" format_suffix_patterns\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" snippets "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" views\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# API endpoints")]),t._v("\nurlpatterns "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" format_suffix_patterns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api_root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippets/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SnippetList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet-list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippets/<int:pk>/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SnippetDetail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet-detail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippets/<int:pk>/highlight/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SnippetHighlight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet-highlight'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UserList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user-list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users/<int:pk>/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UserDetail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user-detail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"페이징-추가"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#페이징-추가"}},[t._v("#")]),t._v(" 페이징 추가")]),t._v(" "),a("p",[t._v("사용자 및 코드 스니펫에 대한 목록은 많은 인스턴스를 리턴할 수 있으므로 결과를 페이징하고 클라이언트가 각 개별 페이지를 단계별로 실행하도록 하려고 합니다.")]),t._v(" "),a("p",[a("code",[t._v("project/settings.py")]),t._v(" 파일을 수정하여 페이징을 사용하도록 변경할 수 있습니다.")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("REST_FRAMEWORK "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DEFAULT_PAGINATION_CLASS'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rest_framework.pagination.PageNumberPagination'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PAGE_SIZE'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("REST_FRAMEWORK")]),t._v(" 지정된 단일 dictionary안에 REST 프레임워크의 설정을 모두 지정할 수 있으므로 다른 프로젝트 설정과 쉽게 구분됩니다.")]),t._v(" "),a("p",[t._v("필요한 경우 페이지징 스타일을 사용자 정의할 수 있습니다.")]),t._v(" "),a("h2",{attrs:{id:"api-찾아보기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-찾아보기"}},[t._v("#")]),t._v(" API 찾아보기")]),t._v(" "),a("p",[t._v("브라우저를 열고 browsable API의 링크를 따라 가면서 API를 둘러 볼 수 있습니다.")]),t._v(" "),a("p",[t._v("또한 스니펫 인스턴스에서 'highlight' 링크를 볼 수 있으며 HTML 페이지로 이동합니다.")])])}),[],!1,null,null,null);s.default=e.exports}}]);